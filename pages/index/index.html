<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DyServerUI</title>
    <link rel="stylesheet" href="../iconfont/iconfont.css">
    <link rel="stylesheet" href="index.css">
</head>
<body :controller="app" class="ms-controller">
<header>
    <div class="app-name">
        <i class="iconfont iconfuwuqi"></i>
        <span>dy-server-ui</span>
    </div>
    <div class="app-ctrl">
        <i class="iconfont" :click="topToggle" :class="[@isTop ? 'iconguding-tianchong': 'iconguding']" title="固定屏幕顶端"></i>
        <i class="iconfont iconzuixiaohua" :click="minimize"></i>
        <i class="iconfont iconClose" :click="close"></i>
    </div>
</header>
<article class="app-body">
    <div class="form-group directory">
        <div>目录</div>
        <a class="input" :attr="{title:@directory || 点击选择服务器根目录}">
            <span class="tip" :visible="!@directory">点击选择服务器根目录</span>
            <span class="path" :visible="@directory">{{directory}}</span>
            <input id="directory" type="file" webkitdirectory directory/>
        </a>
    </div>
    <div class="form-group port">
        <div>端口</div>
        <input class="input" :duplex="@port" type="text" placeholder="端口号，默认8080，占用自增"/>
    </div>
    <div class="server-ctrl">
        <div>
            <i class="iconfont iconqidong" title="run" :click="serverRun"
               :class="[(!@directory || @isRun) && 'disabled']"></i>
            <span>运行</span>
        </div>
        <div>
            <i class="iconfont iconai08" title="stop" :click="serverStop"
               :class="[(!@directory || !@isRun) && 'disabled']"></i>
            <span>停止</span>
        </div>
        <div>
            <i class="iconfont iconliulanqi-IE" title="Browser" :click="openBrowser"></i>
            <span>打开</span>
        </div>
        <div>
            <i class="iconfont icondakai" title="new" :click="newServer"></i>
            <span>新建窗口</span>
        </div>
    </div>
</article>
<footer>
    <a :click="about"><i class="iconfont iconguanyu"></i> 关于</a>
</footer>
<div class="loading" :visible="loading"><i class="iconfont iconLoading"></i>正在{{@isRun ? '关闭':'开启'}}请稍等...</div>
<script src="../avalon.min.js"></script>
<script src="index.js"></script>
</body>
</html>
